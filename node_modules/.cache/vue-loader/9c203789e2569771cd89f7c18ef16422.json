{"remainingRequest":"/usr/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eliso/Desktop/vue-locked-door/src/HasPermission.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/eliso/Desktop/vue-locked-door/src/HasPermission.vue","mtime":1641020026868},{"path":"/usr/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgICAnYWxsUGVybWlzc2lvbnMnOiBBcnJheSwKICAgICAgJ3Blcm1pc3Npb25zVG9CZUNoZWNrZWQnOiB7CiAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgfSwKICAgICAgJ3Blcm1pc3Npb25zSW5TdG9yYWdlJzogQm9vbGVhbiwKICAgICAgJ3Blcm1pc3Npb25zSW5TdG9yYWdlS2V5JzogU3RyaW5nCiAgfSwKCiAgbWV0aG9kczogewogICAgaGFzUGVybWlzc2lvbigpIHsKICAgICAgaWYgKHRoaXMucGVybWlzc2lvbnNJblN0b3JhZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5jaGVja1Blcm1pc3Npb25zRnJvbVN0b3JhZ2UoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5jaGVja1Blcm1pc3Npb25zKCk7CiAgICAgIH0KICAgIH0sCgogICAgY2hlY2tQZXJtaXNzaW9uc0Zyb21TdG9yYWdlKCkgewogICAgICBsZXQgcGVybWlzc2lvbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMucGVybWlzc2lvbnNJblN0b3JhZ2VLZXkpKTsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGVybWlzc2lvbnMpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucGVybWlzc2lvbnNUb0JlQ2hlY2tlZC5ldmVyeShwZXJtaXNzaW9uID0+IHBlcm1pc3Npb25zLmluY2x1ZGVzKHBlcm1pc3Npb24pKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgY2hlY2tQZXJtaXNzaW9ucygpIHsKICAgICAgICByZXR1cm4gdGhpcy5wZXJtaXNzaW9uc1RvQmVDaGVja2VkLmV2ZXJ5KHBlcm1pc3Npb24gPT4gdGhpcy5hbGxQZXJtaXNzaW9ucy5pbmNsdWRlcyhwZXJtaXNzaW9uKSk7CiAgICAgIH0KICB9Cn0K"},{"version":3,"sources":["HasPermission.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"HasPermission.vue","sourceRoot":"src","sourcesContent":["<template>\n<span v-if=\"hasPermission()\">\n  <slot></slot>\n</span>\n</template>\n\n<script>\n  export default {\n    props: {\n        'allPermissions': Array,\n        'permissionsToBeChecked': {\n          type: Array,\n          required: true\n        },\n        'permissionsInStorage': Boolean,\n        'permissionsInStorageKey': String\n    },\n\n    methods: {\n      hasPermission() {\n        if (this.permissionsInStorage) {\n          return this.checkPermissionsFromStorage();\n        } else {\n          return this.checkPermissions();\n        }\n      },\n\n      checkPermissionsFromStorage() {\n        let permissions = JSON.parse(localStorage.getItem(this.permissionsInStorageKey));\n        if (Array.isArray(permissions)) {\n          return this.permissionsToBeChecked.every(permission => permissions.includes(permission));\n        } else {\n          return false;\n        }\n      },\n\n      checkPermissions() {\n          return this.permissionsToBeChecked.every(permission => this.allPermissions.includes(permission));\n        }\n    }\n  }\n</script>"]}]}